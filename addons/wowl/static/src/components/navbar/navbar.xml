<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

  <header t-name="wowl.NavBar" owl="1">
    <nav class="o_main_navbar">
     <t t-call="wowl.NavBar.AppsMenu">
        <t t-set="icon" t-value="'fa fa-th-large'"/>
        <t t-set="items" t-value="menuRepo.getApps()"/>
        <t t-set="depth" t-value="0"/>
     </t>
      <a class="o_menu_brand" role="button"/>
      <ul class="o_menu_sections" role="menu"/>
      <ul class="o_menu_systray" role="menu">
        <t t-foreach="systrayItems" t-as="item" t-key="item.name">
          <t t-component="item.Component"/>
        </t>
      </ul>
    </nav>
  </header>

    <DropdownRenderless t-on-item-selected="onMenuClicked" depth="depth" t-name="wowl.NavBar.AppsMenu">

        <t t-set-slot="toggler">
            <DropdownRenderlessButton depth="depth">
                <DropdownRenderlessItem depth="depth">
                    <div style="color:white; background-color: red; padding: 2px; border: 1px white solid; opacity: 50%">
                        <t t-foreach="Array(depth)">
                            <pre style="display: inline">    </pre>
                        </t>
                        <i t-if="icon" t-att-class="icon"/>
                        <t t-if="name" t-esc="name"/>
                    </div>
                </DropdownRenderlessItem>
            </DropdownRenderlessButton>
        </t>

        <t t-foreach="items" t-as="item" t-key="item.id">

            <t t-if="item.childrenTree.length == 0">
                <DropdownRenderlessItem payload="item" depth="depth">
                    <div style="color:white; background-color: blue; padding: 2px;border: 1px white solid;  opacity: 50%;">
                        <t t-foreach="Array(depth)">
                            <pre style="display: inline">    </pre>
                        </t>
                        <t t-esc="item.name"/>
                    </div>
                </DropdownRenderlessItem>
            </t>

            <t t-else="" t-call="wowl.NavBar.AppsMenu">
                <t t-set="name" t-value="item.name"/>
                <t t-set="icon" t-value="null"/>
                <t t-set="items" t-value="item.childrenTree"/>
                <t t-set="depth" t-value="depth + 1"/>
            </t>

        </t>

    </DropdownRenderless>

    <DropdownRenderless>
        <t t-set-slot="toggler">
            <DropdownRenderlessButton depth="depth">
                Button to toggle the dropdown
            </DropdownRenderlessButton>
        </t>

        <DropdownRenderlessItem>
            First Element
        </DropdownRenderlessItem>

        <DropdownRenderlessItem>
            Second Element
        </DropdownRenderlessItem>

        <DropdownRenderlessItem>
            Third Element
        </DropdownRenderlessItem>

    </DropdownRenderless>

    <t t-name="wowl.NavBar.Systray" owl="1">
        <!--
        <ul class="o_menu_systray" role="menu">
            <t t-call="wowl.MenuItems">
                <t t-set="menuItems" t-value="state.systrayMenu.children"/>
            </t>
        </ul>
        -->
    </t>

    <t t-name="wowl.NavBar.CurrentAppMenu" owl="1">
        <!--
        <a class="o_navbar_item o_menu_brand" role="button" t-on-click="...">
            <t t-esc="state.currentApp.name"/>
        </a>
        <ul class="o_menu_sections" role="menu">
            <t t-call="wowl.MenuItems">
                <t t-set="menuItems" t-value="state.currentApp.children"/>
            </t>
        </ul>
        -->
    </t>

    <t t-name="wowl.MenuItems" owl="1">
        <!--
        <li t-foreach="menuItems" t-as="menuItem">
        <t t-if="!menuItem.children.length">
            <a role="button" t-on-click="">
            <t t-esc="menuItem.name" />
            </a>
        </t>
        <t t-else="">
            <Dropdown title="menuItem.Name">
            <t t-foreach="menuItem.children" t-as="item" t-key="item.id">
                <DropdownItem id="item.id" title="item.name" />
            </t>
            </Dropdown>
        </t>
        </li>
        -->
    </t>

</templates>
