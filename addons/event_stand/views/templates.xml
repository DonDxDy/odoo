<odoo>
<data>

  <template id="event_stand_script" inherit_id="website.assets_frontend" name="Event Stand Registration">
      <xpath expr="/t" position="inside">
          <script type="text/javascript" src="/event_stand/static/src/js/event_stand.js"></script>
      </xpath>
  </template>

  <template id="exhibitor-list">
    <t t-call="website_event.layout">
      <section class="container">
          <div class="pull-right mt16" t-if="event.state == 'confirm'">
            <a t-attf-href="/event/#{slug(event)}/exhibitors/register" class="btn btn-primary btn-lg">Become an Exhibitor</a>
          </div>
          <h1 t-field="event.name"/>
          <h2 class="mb48">Exhibitors Tracks</h2>

          <t t-foreach="slots.items()" t-as="slot">
              <h3 t-esc="slot[0]"/>
              <table class="table table-striped table-hover">
              <tr>
                  <th>Topic</th>
                  <th>Exhibitor</th>
                  <th>Stand</th>
              </tr>
              <tr t-foreach="slot[1]" t-as="track">
                  <td t-esc="track.subject"/>
                  <td t-esc="track.partner_name"/>
                  <td t-esc="track.stand_id.name"/>
              </tr>
              </table>
          </t>
      </section>
    </t>
  </template>

  <template id="exhibitor-buy">
    <t t-call="website_event.layout">
      <section class="container">
          <h1 t-field="event.name"/>
          <h2>Become an Exhibitor</h2>
          <p t-if="event.state &lt;&gt; 'confirm'">
            This event is done, check our <a href="/event">list of future events</a>.
          </p>
          <div class="alert alert-danger" role="alert" t-if="conflict">
              <strong>Oh snap!</strong> Someone just purchased your stand/slot.
              Please choose another one.
          </div>
          <form class="form-horizontal mt64" id="exhibitor-registration" t-attf-action="/event/#{slug(event)}/exhibitors/confirm" method="post" t-if="event.state == 'confirm'">
              <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
              <input type="hidden" name="slot_number" id="slot_number" value="1"/>
              <div class="form-group">
                <label for="type_id" class="col-sm-2 control-label">Your Stand</label>

                <div class="col-sm-10">
                    <div class="pull-left text-center" t-foreach="types" t-as="type_id" style="border: 1px solid #ccc; padding-right: 10px; width: 150px;">
                        <div t-esc="type_id.name"/>
                        <div t-if="type_id.photo" t-field="type_id.photo" class="img img-responsive"  t-options="{'widget': 'image'}"/>
                        <div t-field="type_id.price" t-options="{'widget': 'monetary', 'display_currency': type_id.currency_id}"/>
                        <input type="radio" name="type_id" t-attf-id="type_id_#{type_id.id}" t-att-value="type_id.id" t-att-checked="type_id.main or None" class="o_type_id"/>
                    </div>
                    <div class="pull-left" style="border-left: 1px solid #ddd; margin-left: 20px; padding-left: 10px;">
                        <div id="stand-description"/>
                    </div>
                </div>

              </div>
              <div class="form-group o_slot">
                <label for="stand_id" class="col-sm-2 control-label">Your Booth</label>
                <div class="col-sm-3">
                    <select class="form-control" id="stand_id" name="stand_id">
                        <t t-foreach="stands" t-as="stand">
                            <option t-att-value="stand.id" t-esc="stand.name"
                                t-att-class="not stand.type_id.main and 'hide' or 'show'"
                                t-att-data-type-id="stand.type_id.id"/>
                        </t>
                    </select>
                </div>
                <div class="col-sm-5" t-if="event.exhibition_map">
                    <button type="button" class="btn btn-link" data-toggle="modal" data-target="#mapModal">
                      (view map)
                    </button>
                    <div class="modal fade" id="mapModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                      <div class="modal-dialog modal-lg" role="document">
                        <div class="modal-content">
                          <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&amp;times;</span></button>
                            <h4 class="modal-title" id="myModalLabel">Exhibition Map</h4>
                          </div>
                          <div class="modal-body">
                            <div t-field="event.exhibition_map" class="img img-responsive"/>
                          </div>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
              <div id="main_slot">
                  <div class="form-group slots">
                    <label for="slot_id_0" class="col-sm-2 control-label">Choose a Slot</label>
                    <div class="col-sm-3">
                        <select class="form-control slot_id" name="slot_id_0">
                        </select>
                    </div>
                    <div class="col-sm-4">
                      <input type="text" class="form-control track_title" name="track_title_0" placeholder="Topic in Agenda (e.g. Odoo-Magento Connector)" maxlength="50"/>
                    </div>
                  </div>
              </div>
              <div class="row o_add">
                <div class="col-sm-3 col-sm-offset-2 mb8">
                    <a href="#" id="o_add_track">Add a slot</a> &amp;nbsp; &amp;nbsp;
                    (<span style="text-decoration: line-through; color:red;"><span class="o_total_one">390</span>€</span> <b>+<span class="o_total_upsell">250</span>€</b>)
                </div>
              </div>

              <div class="form-group">
                <label class="col-sm-2 control-label">Total</label>
                <div class="col-sm-10 mt8">
                    <b class="o_total">390</b>€ <br/>
                    <span class="text-muted">(<span class="o_product_price">150</span>€ down payment, <span class="o_total_balance">240</span>€, before Sep 1)</span>
                </div>
              </div>

              <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                  <button type="submit" class="btn btn-primary btn-lg">Book My Stand <span style="color: #eee">(<span class="o_product_price">150</span>€)</span></button>
                </div>
              </div>
          </form>
          <hr class="mt48 mb48"/>
      </section>
    </t>
  </template>
</data>
</odoo>
