<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="l10n_in_purchase_view_purchase_order_form_inherit_new" model="ir.ui.view">
        <field name="name">l10n.in.purchase.view.purchase.order.form.inherit.new</field>
        <field name="model">purchase.order</field>
        <field name="priority" eval="100"/>
        <field name="inherit_id" ref="l10n_in_purchase.view_purchase_order_form_inherit_l10n_in_purchase"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='l10n_in_journal_id']" position="before">
                <field name="l10n_in_company_country_code" invisible="1"/>
                <field name="l10n_in_gst_treatment"
                    attrs="{'invisible': [('l10n_in_company_country_code','!=', 'IN')], 'required': [('l10n_in_company_country_code','=', 'IN')]}"/>
                <field name="l10n_in_gstin"
                    attrs="{'invisible':['|',('l10n_in_company_country_code','!=','IN'),('l10n_in_gst_treatment','in',['consumer','unregistered','overseas'])],'required':[('l10n_in_gst_treatment','in',['regular','composition','special_economic_zone','deemed_export']),('l10n_in_company_country_code','=','IN')]}"/>
                <field name="l10n_in_place_of_supply_id"
                    attrs="{'invisible':[('l10n_in_company_country_code','!=','IN')],'required':[('l10n_in_company_country_code','=','IN')]}" options='{"no_create_edit": True, "no_open": True}'/>
            </xpath>
            <xpath expr="//field[@name='l10n_in_journal_id']" position="attributes">
                <attribute name="attrs">{'invisible': [('l10n_in_company_country_code','!=', 'IN')]}</attribute>
                <attribute name="domain">[('company_id', '=', company_id), ('type','=','purchase')]</attribute>
                <attribute name="options">{'no_create': True}</attribute>
            </xpath>
        </field>
    </record>
</odoo>
