<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="event_track_proposal">
    <t t-call="website_event.layout">
        <div class="oe_structure" id="oe_structure_website_event_track_proposal_1"/>
        <div class="container">
            <section class="pt48">
                <h1 class="o_page_header">Call for Proposals</h1>
                <h2 class="text-center text-secondary font-weight-bold my-4" t-esc="event.name"/>
            </section>
            <section id="forms" t-if="not event.website_track_proposal">
                <h1>Proposals are closed!</h1>
                <p>
                    This event does not accept proposals.
                </p>
            </section>
            <section class="row">
                <div class="col-lg-12">
                    <div class="oe_structure">
                        <section>
                            <h3 class="o_page_header mt16">
                                Introduction
                            </h3>
                            <p>
                                We will accept a broad range of
                                presentations, from reports on academic and
                                commercial projects to tutorials and case
                                studies. As long as the presentation is
                                interesting and potentially useful to the
                                audience, it will be considered for
                                inclusion in the programme.
                            </p>
                        </section>
                    </div>
                    <div class="d-flex justify-content-center" t-if="not track">
                        <section id="forms" class="col-lg-9 col-md-10 mb-5"
                            t-if="event.website_track_proposal">
                            <form class="mt32 js_website_submit_form website_event_track_proposal_form" t-attf-action="/event/#{event.id}/track_proposal/post" method="post" enctype="multipart/form-data">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                <div id="track_intro">
                                    <h4 class="mt32">
                                    <b>Talk Intro</b>
                                    </h4>
                                    <div class="form-text text-muted">
                                    Explain what your talk will be about
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label">
                                            <span for="track_name">Track Title</span>
                                            <span>*</span>
                                        </label>
                                        <input type="text" class="form-control" name="track_name" required="True"/>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label">
                                            <span for="description">Talk Introduction</span>
                                            <span>*</span>
                                        </label>
                                        <textarea  class="form-control" name="description" required="True"/>
                                    </div>    
                                    <div class="form-group">
                                        <label class="col-form-label" for="tags">Categories</label>
                                        <div class="proposal_add_tags">
                                            <input type="text" class="form-control" name="tags" id="add_tags_track_proposal" context="{'order_display': 'name desc'}"/>
                                        </div>
                                    </div>
                                </div>
                                <div id="speaker_profile">
                                    <h4 class="mt16">
                                    <b>Speaker Profile</b>
                                    </h4>
                                    <div class="form-text text-muted">
                                    This will be displayed on the track page to showcase it
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label" for="partner_name">Name</label>
                                        <input type="text" class="form-control partner_name_input" name="partner_name"/>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label" for="partner_email">Email</label>
                                        <input type="email" class="form-control" name="partner_email"/>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label" for="partner_phone">Phone</label>
                                        <input type="text" class="form-control" name="partner_phone"/>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label" for="image">Picture</label><br/>
                                        <input name="image" type="file" accept="image/*"/>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label" for="partner_function">Job Title</label>
                                        <input type="text" class="form-control" name="partner_function"/>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label" for="partner_company_name">Organization</label>
                                        <input type="text" class="form-control" name="partner_company_name"/>
                                    </div>
                                    <div class="form-group">
                                        <label class="col-form-label" for="partner_biography">Speaker Introduction</label>
                                        <textarea  class="form-control" name="partner_biography"/>
                                    </div>
                                </div>
                                <t t-call="website_event_track.event_track_proposal_contact"/>   
                                <div class="form-group o_form_buttons">
                                    <button type="submit" class="btn btn-primary">Submit Proposal</button>
                                    <span class="require_contact_info_warning text-danger ml8 invisible">
                                        <i class="fa fa-exclamation mr4" role="img" aria-label="Error" title="Error"/>
                                        <span class="require_contact_info_msg">Please enter a contact email address or a contact phone number.</span>
                                    </span>
                                </div>
                            </form>
                        </section>
                    </div>
                    <div t-else="">
                        <t t-call="website_event_track.event_track_proposal_success"/>
                    </div>
                    <div class="oe_structure" id="oe_structure_website_event_track_proposal_2"/>
                </div>
            </section>
        </div>
        <div class="oe_structure" id="oe_structure_website_event_track_proposal_3"/>
    </t>
</template>

<template id="event_track_proposal_contact">
        <div id="check_contact_information">
            <div class="form-group">
                <input type= "checkbox" class="add_contact_information" name="add_contact_information"/>
                <label for="add_contact_information">Contact me through a different email/phone</label>
                <div class="extra_contact_information">
                    <h4>
                        <b>Contact Information</b>
                    </h4>
                    <div class="form-text text-muted">
                        This will be used by our team to get in touch with you
                    </div> 
                        <div class="form-group">
                        <label class="col-form-label">
                            <span for="contact_name">Name</span>
                            <span>*</span>
                        </label>
                        <input type="text" class="form-control contact_field_name" name="contact_name"/>
                    </div>
                    <div class="form-group">
                        <label class="col-form-label" for="contact_email">Email</label>
                        <input type="email" class="form-control contact_field_email at_least_one_required" name="contact_email"/>
                    </div>
                    <div class="form-group">
                        <label class="col-form-label" for="contact_phone">Phone</label>
                        <input type="text" class="form-control contact_field_phone at_least_one_required" name="contact_phone"/>
                    </div>
                </div> 
            </div>
        </div>
</template>

<template id="event_track_proposal_success">
        <section class="mt-5">
            <h3 class="o_page_header">Application</h3>
            <p>
                Thank you for your proposal.
            </p><p>
                We will evaluate your proposition and get back to you shortly.
            </p>
        </section>
</template>

</odoo>
