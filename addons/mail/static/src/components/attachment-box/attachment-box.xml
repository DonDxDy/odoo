<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.AttachmentBox" owl="1">
        <div class="o-AttachmentBox">
            <div class="o-AttachmentBox-title">
                <hr class="o-AttachmentBox-dashedLine"/>
                <span class="o-AttachmentBox-titleText">
                    Attachments
                </span>
                <hr class="o-AttachmentBox-dashedLine"/>
            </div>
            <div class="o-AttachmentBox-content">
                <t t-if="isDropZoneVisible.value">
                    <DropZone
                        class="o-AttachmentBox-dropZone"
                        t-on-o-dropzone-files-dropped="_onDropZoneFilesDropped"
                        t-ref="dropzone"
                    />
                </t>
                <t t-if="thread and thread.$$$allAttachments(mself).length > 0">
                    <AttachmentList
                        class="o-AttachmentBox-attachmentList"
                        areAttachmentsDownloadable="true"
                        attachments="thread.$$$allAttachments(mself)"
                        attachmentsDetailsMode="'hover'"
                        attachmentsImageSize="'small'"
                        showAttachmentsFilenames="true"
                        t-on-o-attachment-removed="_onAttachmentRemoved"
                    />
                </t>
                <button class="o-AttachmentBox-buttonAdd btn btn-link" type="button" t-on-click="_onClickAdd">
                    <i class="fa fa-plus-square"/>
                    Add attachments
                </button>
            </div>
            <t t-if="thread">
                <FileUploader
                    attachments="thread.$$$allAttachments(mself)"
                    newAttachmentExtraData="newAttachmentExtraData"
                    uploadModel="thread.$$$model(mself)"
                    uploadId="thread.$$$id(mself)"
                    t-on-o-attachment-created="_onAttachmentCreated"
                    t-ref="fileUploader"
                />
            </t>
        </div>
    </t>

</templates>
