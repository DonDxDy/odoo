<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="mail.Chatter" owl="1">
        <div class="o-Chatter">
            <t t-if="chatter">
                <div class="o-Chatter-fixedPanel">
                    <ChatterTopbar
                        class="o-Chatter-topbar"
                        chatter="chatter"
                    />
                    <t t-if="chatter.$$$threadView(mself) and chatter.$$$isComposerVisible(mself)">
                        <Composer
                            class="o-Chatter-composer"
                            t-att-class="{ 'o-isBordered': chatter.$$$hasExternalBorder(mself) }"
                            composer="chatter.$$$thread(mself).$$$composer(mself)"
                            hasFollowers="true"
                            hasMentionSuggestionsBelowPosition="true"
                            isCompact="false"
                            isExpandable="true"
                            textInputSendShortcuts="['ctrl-enter', 'meta-enter']"
                            t-on-o-message-posted="_onComposerMessagePosted"
                            t-ref="composer"
                        />
                    </t>
                </div>
                <div class="o-Chatter-scrollPanel" t-on-scroll="_onScrollPanelScroll">
                    <t t-if="chatter.$$$isAttachmentBoxVisible(mself)">
                        <AttachmentBox
                            class="o-Chatter-attachmentBox"
                            thread="chatter.$$$thread(mself)"
                        />
                    </t>
                    <t t-if="chatter.$$$thread(mself) and chatter.$$$hasActivities(mself) and chatter.$$$thread(mself).$$$activities(mself).length > 0">
                        <ActivityBox
                            class="o-Chatter-activityBox"
                            chatter="chatter"
                        />
                    </t>
                    <t t-if="chatter.$$$threadView(mself)">
                        <ThreadView
                            class="o-Chatter-thread"
                            hasComposer="false"
                            hasScrollAdjust="chatter.$$$hasMessageListScrollAdjust(mself)"
                            order="'desc'"
                            threadView="chatter.$$$threadView(mself)"
                            t-ref="thread"
                        />
                    </t>
                </div>
            </t>
        </div>
    </t>

</templates>
