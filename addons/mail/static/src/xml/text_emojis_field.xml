<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <!-- Char field with an emojis button on the right -->
    <t t-name="text_emojis_field">
        <div t-if="widget.mode === 'edit'" class="o_mail_emoji_edit o_field_widget">
            <t t-call="text_emojis_field_dropdown"/>
            <textarea
                t-if="widget.multilines"
                class="o_field_text o_field_widget o_mail_emoji_input o_input"
                t-esc="widget.value or ''"
                t-att-placeholder="widget.attrs.placeholder or ''"
                type="text"/>
            <input
                t-else=""
                class="o_field_char o_mail_emoji_input o_input"
                t-att-value="widget.value or ''"
                placeholder="widget.attrs.placeholder"
                type="text"/>
        </div>
        <div t-else="" t-raw="widget.html_value"/>
    </t>

    <!-- The emojis dropdown button -->
    <t t-name="text_emojis_field_dropdown">
        <div t-attf-class="dropdown o_mail_emojis_dropdown">
            <button class="btn dropdown-toggle"
                type="button"
                data-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                title="Add an emoji">
                <i class="fa fa-smile-o"/>
            </button>
            <div class="dropdown-menu" style="width: 396px">
                <t t-call="text_emojis_field_picker"/>
            </div>
        </div>
    </t>

    <!-- The emojis picker -->
    <t t-name="text_emojis_field_picker">
        <div class="o_mail_emojis_picker">
            <span
                t-foreach="widget.emojis" t-as="emoji"
                class="o_mail_emoji"
                t-att-data-emoji="emoji.sources[0]"
                t-att-data-emoji-unicode="emoji.unicode"
                t-att-title="emoji.description"
                t-att-aria-label="emoji.description"
                t-raw="emoji.unicode"/>
        </div>
    </t>
</templates>
