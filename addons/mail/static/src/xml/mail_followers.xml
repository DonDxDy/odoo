<?xml version="1.0" encoding="UTF-8"?>
<template>

    <!--
        followers main template
        Template used to display the followers, the actions and the subtypes in a record.
        -->
    <div t-name="mail.followers" class="oe_followers">
        <div>
            <div class="btn-group">
                <button class="btn btn-primary btn-sm o_follow_btn o_not_following">
                    <span class="o_follow">Follow</span>
                    <span class="o_unfollow">Unfollow</span>
                    <span class="o_following">Following</span>
                </button>
                <button type="button" class="btn btn-primary btn-sm dropdown-toggle o_subtype_dropdown_btn" data-toggle="dropdown">
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu o_subtype_list" role="menu"></ul>
            </div>

            <t t-if="widget.comment">
                <h6><t t-raw="widget.comment"/></h6>
            </t>
        </div>
        <div>
            <h5 class='o_follower_title'>Followers</h5>
            <a t-if="widget.view_is_editable" href='#' class="o_invite">Add others</a>
        </div>
        <div class="oe_follower_list"></div>
    </div>

    <!--
        followers.partner template
        Template used to display a partner following the record
        -->
    <div t-name="mail.followers.partner" class='oe_partner'>
        <img class="oe_mail_thumbnail oe_mail_frame" t-att-src="record.avatar_url"/>
        <a t-attf-href="#model=res.partner&amp;id=#{record.id}" t-att-title="record.name" t-att-data-partner="record.id"><t t-esc="record.name"/></a>
        <i t-if="record.is_editable and (widget.records_length &gt; 1)" class="fa fa-pencil o_edit_subtype o_hidden" title="Edit subscription" t-att-data-id="record.id"/>
        <i t-if="widget.view_is_editable" class="oe_remove_follower fa fa-remove" title="Remove this follower" t-att-data-id="record.id"/>
    </div>
    
    <!--
        followers.subtype template
        Template used to display message subtypes of a follower subscription
    -->
    <t t-name="mail.followers.subtype">
        <li t-attf-class="#{record.followed ? 'selected' : ''}"
            t-att-id="'input_mail_followers_subtype_'+record.id+(dialog ? '_in_dialog': '')"
            t-att-data-id="record.id">
            <a href="#"><t t-raw="record.name"/></a>
        </li>
    </t>

    <t t-name="mail.followers.show_more">
        <div class="oe_partner oe_show_more">And <t t-esc="number"/> more.</div>
    </t>

</template>
